var Keyboard;Keyboard=(function(){var OPEN_KEYBOARD_CLASS,blurAction,blurTimeout,focusAction,getRandomId,getUniqueId,hasFocusedInput,initWindowSize,keyboardClose,keyboardOpen,setUniqueId;OPEN_KEYBOARD_CLASS='keyboard-open';initWindowSize={height:0,width:0};hasFocusedInput=false;blurTimeout=null;function Keyboard(){setTimeout(function(){initWindowSize.height=window.innerHeight;initWindowSize.width=window.innerWidth;return true;},600);this.bindListeners();}
Keyboard.prototype.bindListeners=function(){this.windowResizeListener();return this.focusListeners();};Keyboard.prototype.windowResizeListener=function(){return window.addEventListener('resize',function(){var bodyTag;bodyTag=document.getElementsByTagName('body')[0];if(initWindowSize.height>window.innerHeight){if(bodyTag.className.indexOf(OPEN_KEYBOARD_CLASS)===-1){bodyTag.className=bodyTag.className+' '+OPEN_KEYBOARD_CLASS;return keyboardOpen();}}else{return keyboardClose();}});};Keyboard.prototype.focusListeners=function(){var input,inputs,textarea,textareas,_i,_j,_len,_len1;inputs=document.getElementsByTagName('input');textareas=document.getElementsByTagName('textarea');for(_i=0,_len=inputs.length;_i<_len;_i++){input=inputs[_i];setUniqueId(input);input.addEventListener('focus',function(){return focusAction.apply(this);});input.addEventListener('blur',function(){return blurAction.apply(this);});}
for(_j=0,_len1=textareas.length;_j<_len1;_j++){textarea=textareas[_j];setUniqueId(textarea);textarea.addEventListener('focus',function(){return focusAction.apply(this);});textarea.addEventListener('blur',function(){return blurAction.apply(this);});}
return true;};focusAction=function(){var bodyTag;bodyTag=document.getElementsByTagName('body')[0];if(bodyTag.className.indexOf(OPEN_KEYBOARD_CLASS)===-1){if(this.type!=='checkbox'&&this.type!=='radio'&&this.type!=='submit'){bodyTag.className=bodyTag.className+' '+OPEN_KEYBOARD_CLASS;keyboardOpen();}}
hasFocusedInput=getUniqueId(this);if(hasFocusedInput===getUniqueId(this)&&blurTimeout!==null){return clearTimeout(blurTimeout);}};blurAction=function(){var thisInput;thisInput=this;return blurTimeout=setTimeout(function(){if(hasFocusedInput===getUniqueId(thisInput)){keyboardClose();hasFocusedInput=false;return blurTimeout=null;}},500);};keyboardOpen=function(){return true;};keyboardClose=function(){var bodyTag;bodyTag=document.getElementsByTagName('body')[0];return bodyTag.className=bodyTag.className.replace(OPEN_KEYBOARD_CLASS,'');};setUniqueId=function(elm){return elm.setAttribute('data-unique-id',getRandomId());};getUniqueId=function(elm){return elm.getAttribute('data-unique-id');};getRandomId=function(){return Math.floor((Math.random()*9999999)+1);};return Keyboard;})();window.onload=function(){return new Keyboard;};